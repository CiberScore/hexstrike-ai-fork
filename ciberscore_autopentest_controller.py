from hexstrike_mcp import HexStrikeClient, setup_mcp_server
import argparse

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument("--api", default="http://127.0.0.1:8888", help="Local HexStrike API URL")
    parser.add_argument("--host", default="0.0.0.0")
    parser.add_argument("--port", default=1234, type=int)
    args = parser.parse_args()

    hexstrike_client = HexStrikeClient(args.api)
    mcp_server = setup_mcp_server(hexstrike_client)

    mcp_server.run(transport="streamable-http")


if __name__ == '__main__':
    main()